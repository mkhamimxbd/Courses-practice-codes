<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .body {
      font-family: monospace;
      height: 78vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background-color: #f5f5f5;
    }

    .main {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .result {
      font-size: 42px;
      width: fit-content;
      padding: 10px 12px;
      text-align: center;
    }

    @media (max-width: 700px) {
      .result {
        margin: 0 0 80px 0;
      }
    }

    .result-after-click {
      border: 1px solid #cacaca;
      background-color: #e9e9e9;
      border-radius: 4px;
    }

    .btn-div {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .show-result-btn,
    .change-theme-btn {
      font-size: 22px;
      font-family: monospace;
      padding: 4px 10px;
      margin: 12px 0 0 0;
      border: 1px solid #1b1b1b;
      background-color: #e6e6e6;
      border-radius: 6px;

      &:hover {
        cursor: pointer;
        background-color: #bebebe;
      }
    }

    /* DARK THEME */

    .body-dark {
      background-color: #161616;
    }

    .result-dark {
      color: #e9e9e9;
    }

    .result-dark-after-click {
      background-color: #252525;
      border: 1px #444444 solid;
    }

    .show-result-btn-dark,
    .change-theme-btn-dark {
      background-color: #616161;
      color: #cacaca;

      &:hover {
        background-color: #868686;
      }
    }

    .body,
    .result,
    .result-after-click,
    .show-result-btn,
    .change-theme-btn,
    .body-dark,
    .result-dark,
    .result-dark-after-click,
    .show-result-btn-dark,
    .change-theme-btn-dark {
      transition: all 0.35s ease;
    }
  </style>
</head>

<body class="body">
  <div class="main">
    <p class="result">Is it Weekend today?</p>
    <div class="btn-div">
      <button class="show-result-btn">Check</button>
      <button class="change-theme-btn">Change Theme</button>
    </div>

    <script type="module">
      import dayjs from 'https://unpkg.com/supersimpledev@8.5.0/dayjs/esm/index.js';

      const body = document.querySelector('.body');
      const result = document.querySelector('.result');
      const showResultBtn = document.querySelector('.show-result-btn');
      const changeThemeBtn = document.querySelector('.change-theme-btn');

      let darkTheme = false;
      let resultShown = false;

      function changeTheme() {
        if (!darkTheme) {
          body.classList.add('body-dark');
          result.classList.add('result-dark');
          showResultBtn.classList.add('show-result-btn-dark');
          changeThemeBtn.classList.add('change-theme-btn-dark');

          if (resultShown) {
            result.classList.add('result-dark-after-click');
          }

          darkTheme = true;
        } else {
          body.classList.remove('body-dark');
          result.classList.remove('result-dark');
          showResultBtn.classList.remove('show-result-btn-dark');
          changeThemeBtn.classList.remove('change-theme-btn-dark');
          result.classList.remove('result-dark-after-click');

          darkTheme = false;
        }
      }

      changeThemeBtn.addEventListener('click', changeTheme);

      function isWeekend() {
        const today = dayjs().format('dddd');

        if (!darkTheme) {
          result.classList.add('result-after-click');
        } else {
          result.classList.add('result-dark-after-click');
        }

        if (today === 'saturday, Sunday') {
          result.innerHTML = 'Today is weekend!';
        } else {
          result.innerHTML = `Today is not weekend. Today is ${today} :(`;
        }

        resultShown = true;
      }

      showResultBtn.addEventListener('click', isWeekend);
    </script>
  </div>
</body>

</html>